<!-- navBar start -->
<ion-header class="ion-text-center" *ngIf="mobile">
  <ion-toolbar class="toolbar">
    <!-- <ion-buttons slot="start">
      <ion-menu-button color="light"></ion-menu-button>
    </ion-buttons> -->
    <!-- <ion-buttons slot="end" *ngIf="mobile">
      <ion-icon style="color:#ffffff; height: 20px; width: 20px; padding: 10px;" (click)="onSortClick()" name = 'funnel' *ngIf="!showFilter"></ion-icon>
    </ion-buttons> -->
    <div class="header-Logo" [ngClass]="{'ipad_Logo': !mobile}">
      <img src="../../assets/images/NewAgeAlpha-logo.svg" alt="NewAgeAlpha" width="auto"
        [ngStyle]="{height: mobile? '25px':'35px'}">
      
      <div>
        <ion-avatar>
          <img src="../../assets/images/Profile_NAA5.svg" />
        </ion-avatar>
      </div>
    </div>
    
    <!-- <div *ngIf="!mobile" style="position: absolute; top: 10px; right: 25px;">
      <div style="display: flex; flex-direction: row;">
        <div class="avatar" (click)="profilePopover($event)">
          <img src="../../assets/images/Profile_NAA5.svg" alt="Profile">
        </div>
      </div>
    </div> -->
  </ion-toolbar>
</ion-header>
<!-- navBar End -->

<!--Mobile Body -->
<ion-content id="parent-content" class="overflowOnlyLandscape" *ngIf="mobile">
  <div>
    <!-- SearchBar start -->
    <div class="search-Outer-Div">
      <div class="searchDiv">
        <ion-item class="searchItem" lines="none">
          
          <ion-label style="    margin: 2px 0px;
          font-size: 14px;
          align-items: center;
          justify-content: center;
          display: flex;
          color: #888;">
            <ion-icon name="search"></ion-icon>
            <p *ngIf="this.SelTab !== 'ETF' && this.SelTab !== 'ETFChild'">Ticker or company name</p>
            <p *ngIf="this.SelTab == 'ETF' || this.SelTab == 'ETFChild'">ETF ticker or name</p></ion-label>
          <ionic-selectable class="homeSearch" #SearchComponent [(ngModel)]="searchSel" [items]="LoadsearchList"
            itemTextField="companyName" [canSearch]="true" (onSearch)="searchCompany($event);this.searchSel='';"
            (onSelect)="onSearchSelect($event.item)" [hasInfiniteScroll]="true"
            (onInfiniteScroll)="getMoreSearchComp($event)"
            [searchFailText]="'Sorry! we could not find any results matching.'"
            [isMultiple]="false"
            (onClose)="onSearchClose($event)">
            <ng-template ionicSelectableTitleTemplate>

              <p style="    font-family: Open Sans SemiBold;
              color: #666;
              font-size: 14px;" *ngIf="this.SelTab !== 'ETF' && this.SelTab !== 'ETFChild'">Ticker or company name</p>

              <p style="    font-family: Open Sans SemiBold;
              color: #666;
              font-size: 14px;" *ngIf="this.SelTab == 'ETF' || this.SelTab == 'ETFChild'">ETF ticker or name</p>

              </ng-template>
            <ng-template ionicSelectableItemTemplate let-LoadsearchList="item">
              <div style="width: 100%;">
                <span style=" font-size: 12px; font-family: Open Sans Regular; color: #666666;">{{LoadsearchList.companyName}} ({{LoadsearchList.ticker}})</span>
                <br>
                <span style="float: left;
                font-size: 9px;
                color: #00b9ff;
                text-transform: uppercase;
                font-family: Open Sans Regular;">{{LoadsearchList.indexName}}</span>
                <span style="float: right;
                font-size: 10px; font-family: Open Sans Regular;
                color: #ffba89;
                text-transform: uppercase;">{{LoadsearchList.country}}</span>
              </div>
            </ng-template>
            <ng-template ionicSelectableItemIconTemplate let-port="item" let-isPortSelected="isItemSelected">
              <ion-icon style="display: none;" [name]="isPortSelected ? 'checkmark-circle' : 'radio-button-off'"
                [color]="isPortSelected ? 'primary' : null">
              </ion-icon>
            </ng-template>
            <ng-template ionicSelectableCloseButtonTemplate>
              <ion-icon name="close-circle" style="font-size: 24px;"></ion-icon>
            </ng-template>
            <ng-template ionicSelectableSearchFailTemplate forceOverscroll=true>

              <div style="height: calc(100vh - 196px);
              display: flex;
              /* justify-content: center; */
              align-items: center;
              padding-top: 100px;
              flex-direction: column;
              position: fixed;
              left: 0;
              right: 0;" *ngIf="searchedtext.length > 0">
                <img src="../../assets/images/NAA_search_notfound.png" alt="Search Not Found" height="300">
                <p style="font-size: 20px;
                color: #0569bd;
                margin: 15px 5px 5px 5px; font-family: Open Sans SemiBold;">Sorry, no result found</p>
                <p style="width: 300px;
                text-align: center;
                margin: 5px; 
                color: #666;
                font-family: Open Sans Regular;
            font-size: 14px;">What you searched was unfortunately not found or doesnâ€™t exist.</p>
              </div>

              <div style="height: calc(100vh - 196px);
              display: flex;
              /* justify-content: center; */
              align-items: center;
              padding-top: 100px;
              flex-direction: column;" *ngIf="searchedtext.length == 0">
              <img src="../../assets/images/NAA_Searching.svg" alt="Search" style="    height: 80px;
              margin-bottom: 50px;">
              <h1 style="    color: #666;
              font-family: Open Sans SemiBold;
              padding: 0 50px;
              text-align: center;
              font-size: 20px;
              color: #0569bd;">What Are you searching for?</h1>
            <p style="    color: #666;
            padding: 0 50px;
            text-align: center;
            font-family: Open Sans Regular;
            font-size: 14px;">Search for your favorite thing or find similar results in this area?</p>
          </div>
            </ng-template>
          </ionic-selectable>
        </ion-item>
      </div>
    </div>
    <!-- SearchBar End-->

    <!-- Stock Banner Start -->
    <div>
      <ion-card class="stocks-card">
        <ion-card-content style="padding: 2px 0px 3px 0px;">
          <div *ngIf="stockCollapse" class="arrow" (click)="onStockDivClick()">
            <span></span>
          </div>
          <div class="stock-header" (click)="onStockDivClick()">
            <span class="stock-span">Stocks</span>
            <span class="stock-span"><span style="display: flex;" *ngIf="SelSearchObj!=''"><span style="white-space: nowrap;
              width: 90px;
              display: inline-block;
              text-overflow: ellipsis;
              overflow: hidden;">{{SelSearchObj.companyName}}</span><span>({{SelSearchObj.ticker}})</span></span></span>
          </div>
          <div [ngClass]="{'stock-collapse': stockCollapse}">
            <ion-grid fixed>
              <ion-row>
                <ion-col size="6" class="col-first">
                  <div class="image-div">
                    <img *ngIf="selComp==null" src="../../assets/images/Stock_Mobile_View.svg" alt="img" class="image0">
                    <!-- D3 Tool Start -->
                    <div class="Banner_HomeChartcontainer" [ngStyle]="{'display': selComp== null? 'none': 'block'}">
                      <svg preserveAspectRatio="xMidYMid meet" viewBox="30 110 750 710" width="100%" height="100%"
                        xmlns="http://www.w3.org/2000/svg" version="1.1">
                        <g id="M_gchart" transform="translate(400 ,445)"></g>
                      </svg>
                    </div>
                    <!-- D3 Tool End -->
                  </div>
                </ion-col>
                <ion-col size="6" class="selected-stock-details">
                  <div style="    max-width: 150px;
                  min-width: 150px;">
                    <ion-text>
                      <p class="selected-stock-score" [style.color]="getColor(roundValue(SelSearchObj.scores*100))"
                        *ngIf="SelSearchObj!='' && SelSearchObj.indexName!='ETF'">{{roundValue(SelSearchObj.scores*100)}}%</p>
                      <p class="selected-stock-comp" [style.color]="getColor(roundValue(SelSearchObj.scores*100))"
                        *ngIf="SelSearchObj!='' && SelSearchObj.indexName!='ETF'">{{SelSearchObj.companyName}}
                        ({{SelSearchObj.ticker}})</p>
                      <p class="selected-stock-score" [style.color]="getColor(roundValue(SelSearchObj.scores*100))"
                        *ngIf="SelSearchObj!='' && SelSearchObj.indexName=='ETF' && EtfMed!='' ">{{EtfMed}}%</p>
                      <p class="selected-stock-comp" [style.color]="getColor(roundValue(SelSearchObj.scores*100))"
                        *ngIf="SelSearchObj!='' && SelSearchObj.indexName=='ETF'">{{SelSearchObj.companyName}}
                        ({{SelSearchObj.ticker}})</p>
                        <div style="display: flex;
                        flex-direction: row;
                        justify-content: space-around;
                        align-items: center;
                        margin-top: 10px;"><p *ngIf="SelSearchObj!=''" style="display: flex;
                          flex-direction: column;
                          justify-content: center;
                          align-items: center;
                          font-size: 12px;
                          font-family: Open Sans SemiBold;"><span style="color: #666;">{{SelSearchObj.currency}} {{roundValue(SelSearchObj.price.toFixed(1))}}</span> <span style="color: #00b9ff; font-family: Open Sans Regular;">Price</span></p>
                          <p *ngIf="SelSearchObj!=''" style="display: flex;
                          flex-direction: column;
                          justify-content: center;
                          align-items: center;
                          font-size: 12px;
                          font-family: Open Sans SemiBold;"><span style="color: #666;">{{getMaketCap(SelSearchObj.marketCap).toFixed(1)}}M</span> <span style="color: #00b9ff; font-family: Open Sans Regular;">Market Cap.</span></p></div>
                      
                    </ion-text>
                  </div>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </ion-card-content>
      </ion-card>
    </div>
    <!-- Stock Banner Start -->

    <!-- Slides/Carousel Start-->
    <div id="SlideDiv">
      <ion-slides id="pageslider" [options]="slides" slidesPerView="1" spaceBetween="1" mode='md' loop="true"
        (ionSlideDidChange)="onSlideChange($event)">

        <!-- GICS Slide Start -->
        <ion-slide>
          <div class="slider-div">
            <div class="slider-div">
              <ion-card class="title-card">
                <ion-card-content class="title-card-content">
                  <ion-text class="title-text">
                    <p class="title-p">S&P Global Industry Classification System</p>
                  </ion-text>
                </ion-card-content>
              </ion-card>
            </div>

            <!-- GICS DropDown Start -->
            <div class="slider-div">
              <ion-card class="title-card">
                <ion-card-content class="subIndex-card-content">
                  <div class="subIndex-div">
                    <span id="subIndex-circle" class="subIndex-circle">{{stockMed}}</span>
                    <ion-button class="header-btn" [disabled]="sectorList==''"
                      [ngClass]="{'stockicon-active': stockIndexShow}" (click)="onStockBtnClick()">
                      <div class="SubIndex-header-content">
                        <span class="subIndex-header-title">{{SelSecLevTitle}}<span *ngIf="SelSearchObj!=''"> (<span
                              class="indName">{{SelSearchObj.hasOwnProperty('indexType')? SelSearchObj.etfName : SelSearchObj.hasOwnProperty('FIName')? SelSearchObj.FIName : SelSearchObj.indexName}}</span>)</span></span>
                        <span class="subIndex-header-subtitle">{{selSector.name}}</span>
                      </div>
                      <ion-icon [name]="stockIcon" class="subindex-icon"></ion-icon>
                    </ion-button>
                  </div>
                </ion-card-content>
              </ion-card>
            </div>
            <!-- GICS DropDown End -->

            <!-- Stock Company start -->
            <div >
              <ion-card class="stockCompList-card" *ngIf="stockIndexShow==false">

                <!-- Stock On Begin Start -->
                <ion-card-content *ngIf="selSectorComp==''" class="stockcomplist-card-content"
                  [ngClass]="{'companycard-extend': stockCollapse}">
                  <p class="test1" style="width: 62%;">
                    To begin, use the Search Bar located at the top of your screen to select a stock.
                  </p>
                </ion-card-content>
                <!-- Stock On Begin End -->

                <!-- Stock Company List Start-->
                <ion-card-content  style=" padding: 0px;" id='stockCompanyDiv' *ngIf="selSectorComp!=''">


                  <ion-content class="stockcomplist-card-content"  [ngClass]="{'companycard-extend': stockCollapse , 'foceScrollOverflow': SelSecLevTitle=='Global'}"
                    forceOverscroll="true" id="innerContent"
                    style="--overflow: hidden; --background:white;">
                    <div scrollY="true" id="sectorscrollDiv"
                      [ngClass]="{'stock_companycard-extend': stockCollapse, 'company-list-inner-div': SelSecLevTitle!='Global'}">
                      <ion-list class="company-list">
                        <ion-item lines='none' [id]=getIDReplace(item.companyName) class="company-list-item"
                          *ngFor="let item of selSectorComp">
                          <div class="company-label-outer-div" [ngClass]="{'comp-sel': selComp==item.companyName}"
                            (click)="onCompanyClick(item)" (press)="onlongpress(item)" [style.background]="getColor(roundValue(item.scores*100))"
                            [style.color]="ApplyTextColor(roundValue(item.scores*100))">
                            <ion-label class="company-label" style="    padding: 0px;">
                              <div style="    display: flex;
                              flex-direction: row;
                              align-items: center;">
                                <!-- <span class="s-no">{{unsortselSectorComp.indexOf(item)+1}}</span> -->
                                <span style="    height: 45px;
                                width: 45px;
                                display: inline-flex;
                                align-items: center;
                                justify-content: center;
                                padding: 5px;
                                margin-left: -1px;
                                border-radius: 50%;
                                border: 2px solid #fff;
                                position: absolute;
                                font-size: 10px;
                                font-family: Open Sans SemiBold;">{{roundValue(item.scores*100)}}%</span>
                                <div style="width: 100%; padding: 5px 10px; padding-left: 50px;">
                                <div style="display: flex;
                                flex-direction: row;
                                justify-content: space-between;
                                align-items: center;">
                                <span style=" width: 66vw;
                                font-family: Open Sans SemiBold;
                                font-size: 11px;
                                overflow: hidden;
                                white-space: nowrap;
                                text-overflow: ellipsis;">{{item.companyName}}</span>
                                <!-- <ion-icon name="notifications" style="width: 13px;height: 13px;"></ion-icon> -->
                                <span style="    background: #ffffff;
                                padding: 0 10px;
                                border-radius: 10px;
                                font-family: Open Sans SemiBold; font-size: 9px;" [style.color]="ApplyPercentColor(roundValue(item.scores*100))">{{roundValue(item.wt)}}%</span>
                              </div>
                              
                              <div style="display: flex;
                              flex-direction: row;
                              justify-content: space-between;
                              align-items: center;">
                                <span class="ticker-data">{{item.ticker}}</span>
                                <span style="padding-right: 5px; font-family: Open Sans SemiBold;
                                font-size: 9px;" *ngIf="item.price != null">{{item.currency}} {{roundValue(item.price.toFixed(1))}}</span>
                              </div>
                            </div>
                            </div>
                            </ion-label>
                          </div>
                        </ion-item>

                      </ion-list>
                      <ion-infinite-scroll [disabled]="selSector.code!='Global Universe'" threshold="100px"
                        position="bottom" (ionInfinite)="onscroll($event)">
                        <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading...">
                        </ion-infinite-scroll-content>
                      </ion-infinite-scroll>
                    </div>
                  </ion-content>


                </ion-card-content>
                <!-- Stock Company List End-->
              </ion-card>

              <!-- GICS List Start -->
              <ion-card class="stockCompList-card" *ngIf="stockIndexShow==true">
                <ion-card-content style="padding: 0px; height: calc(100vh - 263px);">
                  <ion-item style="color: black; --background: white;" *ngFor="let item of sectorList"
                    (click)="onSectorClick(item.code)">
                    <ion-label
                      style="display: flex; flex-direction: column; margin: 4px 0px; font-family: Open Sans SemiBold;
                      font-size: 13px; color: #666666;">
                      <span [ngClass]="{'selGICS': SelSecLevTitle==sectorHeadings[sectorList.indexOf(item)]}" style="margin-top: 3px;">{{sectorHeadings[sectorList.indexOf(item)]}}</span>
                      <span [ngClass]="{'selGICS': SelSecLevTitle==sectorHeadings[sectorList.indexOf(item)]}" style="overflow: hidden; text-overflow: ellipsis; margin-top: 5px;">{{item.name}}</span></ion-label>
                  </ion-item>
                </ion-card-content>
              </ion-card>
              <!-- GICS List End -->
            </div>
            <!-- Stock Company End -->

          </div>
        </ion-slide>
        <!-- GICS Slide End -->

        <!-- Index Slide Start -->
        <ion-slide>
          <div class="slider-div">

            <!-- Index Tab Start  -->
            <div>
              <ul class="NavTabList">
                <li class="navTabBtn" [ngClass]="{'tab-active': SelTab == 'Global Universe'}"
                  (click)="GridHeaderTitle=false; onNavGlobalClick();">Equities</li>
                <li class="tab2color" [ngClass]="{'tab-active': SelTab == 'FI'}"
                  (click)="GridHeaderTitle=false; onFINavClick();">Fixed Income</li>
                <li class="ETFNavTabBtn" [ngClass]="{'tab-active': SelTab == 'ETF'|| SelTab == 'ETFChild'}"
                  (click)="GridHeaderTitle=false; onNavETFClick();">ETFs</li>
                <li class="ETFNavTabBtn" [ngClass]="{'tab-active': SelTab == 'NAA'}"
                  (click)="GridHeaderTitle=false; onNavNAAClick();">NAA Indexes</li>
                
              </ul>
            </div>
            <!-- Index Tab End  -->

            <!-- Index Dropdown Start -->
            <div>
              <ion-card class="index-header"
                [ngClass]="{'active-left': SelTab == 'Global Universe', 'active-right': SelTab == 'ETF' || SelTab == 'ETFChild'}">

                <ion-card-content class="index-header-card-content">
                  <div class="index-header-card-div">
                    <span id='header-circle' class="header-circle">{{headermed}}</span>
                    <!-- <span style="min-width: 40px; min-height: 40px; height: 40px; width:40px; border-radius: 50%; background-color: #2e4c99;"></span> -->
                    <ion-button class="header-btn" [disabled]="GridHeaderTitle"
                      [ngClass]="{'stockicon-active': compIndexShow}" (click)="onCompBtnClick()">
                      <div class="Btn-inner-div">
                        <span
                          class="subIndex-header-title">{{(SelTab=='ETF' || SelTab=='ETFChild')? 'ETF': SelTab=='FI'? 'Fixed Income':'Index'}}</span>
                        <span class="subIndex-header-subtitle">{{SelIndexName}}</span>
                      </div>
                      <ion-icon [name]='icon' class="subindex-icon"></ion-icon>
                    </ion-button>
                  </div>
                </ion-card-content>
              </ion-card>
            </div>
            <!-- Index Dropdown End -->

            <div >
              <ion-card class="company-card" *ngIf="compIndexShow==false"
                [ngClass]="{'companycard-extend': stockCollapse}">

                <!-- Index On Begin Start -->
                <ion-card-content *ngIf="selectedIndexData.length == 0 && ETFHoldings.length == 0 "
                  class="child-card-content" [ngClass]="{'companycard-extend': stockCollapse}">
                  <p class="test1" style="width: 67%;">
                    To begin, use the Search Bar located at the top of your screen to select a stock.
                  </p>
                </ion-card-content>
                <!-- Index On Begin End -->

                <!-- Index Company List Start -->
                <ion-card-content id='IndexCompanyDiv' style="padding: 5px 0px 5px 0px;" *ngIf="selectedIndexData.length > 0 "
                  class="company-card-content" [ngClass]="{'companycard-extend': stockCollapse}">
                  <div id="scrollDiv" class="company-list-inner-div"
                    [ngClass]="{'Index_companycard-extend': stockCollapse}">
                    <ion-list class="company-list">
                      <ion-item lines='none' class="company-list-item" *ngFor="let item of selectedIndexData">
                        <div class="company-label-outer-div"
                          [ngClass]="{'comp-sel': selComp==item.companyName && SelSearchObj.indexName==item.indexName}"
                          (click)="onCompanyClick(item)" (press)="onlongpress(item)" [style.background]="getColor(roundValue(item.scores*100))"
                          [style.color]="ApplyTextColor(roundValue(item.scores*100))">
                          <ion-label class="company-label" style="padding:0px;">
                            <!-- <div class="nameExtend" style="width: 193px; overflow: hidden; text-overflow: ellipsis;"> -->
                            <div class="index-outer-Div">
                              <!-- <span class="s-no">{{unsortedIndexData.indexOf(item)+1}}</span> -->
                              <span style="height: 45px;
                              width: 45px;
                              padding: 5px;
                              display: inline-flex;
                              align-items: center;
                              border-radius: 50%;
                              font-size: 10px;
                              margin-left: -1px;
                              justify-content: center;
                              font-family: Open Sans SemiBold;
                              border: 2px solid #fff;
                              position: absolute;">{{roundValue(item.scores*100)}}%</span>
                              <div class="index-inner-Div" style="padding: 5px 10px; padding-left: 50px !important;">
                                <div class="first-div">
                                  <span class="comp-Name">{{item.companyName}}</span>
                                  <!-- <ion-icon name="notifications" style="width: 13px;
                                  height: 13px;"></ion-icon> -->
                                  <span class="per-val"
                                    [style.color]="ApplyPercentColor(roundValue(item.scores*100))">{{roundValue(item.wt)}}%</span>
                                </div>
                                <div class="second-Div">
                                  <span class="ticker-data">{{item.ticker}}</span>
                                  <span style="    font-family: Open Sans SemiBold;
                                  font-size: 9px;" *ngIf="item.price !== null">{{item.currency}} {{roundValue(item.price.toFixed(1))}}</span>
                                </div>
                              </div>
                            </div>
                            <!-- </div> -->
                          </ion-label>
                        </div>
                      </ion-item>
                    </ion-list>
                  </div>
                </ion-card-content>
                <!-- Index Company List End -->
              </ion-card>

              <!-- Index Dropdown List Start -->
              <ion-card class="company-card" style="overflow: auto;" *ngIf="compIndexShow==true"
                [ngClass]="{'companycard-extend': stockCollapse}">

                <!-- Index Loader -->
                <ion-card-content *ngIf="showLoader" class="index-loader">
                  <div>
                    <img class="loader" src="../../assets/images/Rolling.svg" alt="Loading...">
                  </div>
                </ion-card-content>
                <!-- Index Loader -->

                <!-- Global country List Start -->
                <ion-card-content *ngIf="SelTab=='Global Universe' && !selCountry" class="company-card-content">
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of GlobalList"
                      (click)="selCountry=item.country;  onCountryClick(item.country)">
                      <div style="display: flex;
                      width: 100%;
                      margin-left: 1px;
                      align-items: center;">
                        <span class="index-circle" [style.color]="ApplyTextColor(item.med)"
                          [style.background-color]="getColor(item.med)">{{item.med}}</span>
                        <ion-label style="    font-size: 12px;
                        font-family: Open sans Semibold; color:#666666">{{item.country}}</ion-label>

                      </div>
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- Global country List End -->

                <!-- Global Index List Start -->
                <ion-card-content *ngIf="SelTab=='Global Universe' && selCountry" class="company-card-content">
                  <div style="    padding: 5px 10px 0px 10px;" (click)="onCountryBackClick()">
                    <p style="text-align: left; color: #01b9ff; display: flex;
                    flex-direction: row;
                    align-items: center; font-family: Open Sans SemiBold;
    font-size: 13px;">
                      <img src="../../assets/images/backward.svg" alt="Back" style="height: 8px; width: 8px; margin-right: 10px;">{{selCountry}}
                    </p>
                  </div>
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of globalselectedcountryList"
                      (click)="showLoader = true; onglobalIndexClick(item.name);" [ngClass]="{'selectIndex': SelIndexName==item.name}">
                      <div style="display: flex;
                      width: 100%;
                      margin-left: 1px;
                      align-items: center;padding: 5px 0;" >
                        <span class="index-circle"
                          [style.color]="ApplyTextColor(item.med)"
                          [style.background-color]="getColor(item.med)">{{item.med}}</span>
                        <ion-label style="font-size: 12px; font-family: Open Sans SemiBold; color: #666666;" [ngClass]="{'selectedIndexLabel': SelIndexName==item.name}">
                          {{getGlobalIndex(item.name)}}</ion-label>
                      </div>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- Global Index List End -->

                <!-- Naa Index List Start -->
                <ion-card-content *ngIf="SelTab=='NAA'" class="company-card-content">
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of comNAAIndex"
                      (click)="onNaaIndexClick(item.name)" [ngClass]="{'selectIndex': SelIndexName==item.name}">
                      <div style="display: flex;
                      width: 100%;
                      margin-left: 1px;
                      align-items: center;padding: 5px 0;" >
                        <span class="index-circle"
                          [style.color]="ApplyTextColor(item.med)"
                          [style.background-color]="getColor(item.med)">{{item.med}}</span>
                        <ion-label style="font-size: 12px;
                        font-family: Open sans SemiBold;
                        color: #666666;"
                        [ngClass]="{selectIndexLabel: SelIndexName==item.name}">
                          {{getNaaIndex(item.name)}}</ion-label>
                      </div>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- Naa Index List End -->

                <!-- FI Country List Start-->
                <ion-card-content *ngIf="SelTab=='FI' && !FISelCountry" class="company-card-content">
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of FICountryList"
                      (click)="onFICountryClick(item)">
                      <span class="index-circle" [style.color]="ApplyTextColor(FixedIndexData[item].med)"
                        [style.background-color]="getColor(FixedIndexData[item].med)">{{FixedIndexData[item].med}}</span>
                      <ion-label style="font-size: 12px;
                      font-family: Open sans SemiBold;
                      color: #666666;">{{item}}</ion-label>
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- FI Country List End-->

                <!-- FI category List Start-->
                <ion-card-content *ngIf="SelTab=='FI' && FISelCountry" class="company-card-content">
                  <div style="    padding: 5px 10px 0px 10px;" (click)="onFiCountryBackClick()">
                    <p style="text-align: left; color: #01b9ff; display: flex;
                    flex-direction: row;
                    align-items: center; font-family: Open Sans SemiBold;  font-size: 13px;">
                      <img src="../../assets/images/backward.svg" alt="Back" style="height: 8px; width: 8px; margin-right: 10px;">{{FISelCountry}}
                    </p>
                  </div>
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of FIselCatogaryList"
                      (click)="onFixedCatClick(item)" [ngClass]="{'selectIndex': SelIndexName == (item.category == 'HY'? 'High Yield' : 'Investment Grade')}">
                      <div style="display: flex;
                      width: 100%;
                      margin-left: 1px;
                      align-items: center;
                      padding: 5px 0;"
                        >
                        <span class="index-circle"
                          
                          [style.color]="ApplyTextColor(roundValue(item.medianCont*100))"
                          [style.background-color]="getColor(roundValue(item.medianCont*100))">{{roundValue(item.medianCont*100)}}</span>
                        <ion-label style="font-size: 12px;
                        font-family: Open sans SemiBold;
                        color: #666666;"
                          [ngClass]="{'selectIndexLabel': SelIndexName == (item.category == 'HY'? 'High Yield' : 'Investment Grade')}">
                          {{item.category == 'HY'?'High Yield':'Investment Grade'}}</ion-label>
                      </div>
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- FI category List End-->

                <!-- ETF Catagory List Start -->
                <ion-card-content *ngIf="SelTab=='ETF'" class="company-card-content">
                  <ion-list class="nav-tab-index">
                    <ion-item class="nav-tab-item" lines="none" *ngFor="let item of ETFcategory"
                      (click)="onETFCategoryClick(item)">
                      <span class="index-circle"
                        [style.color]="ApplyTextColor(roundValue(getETFCategoryMed(ETFcategory.indexOf(item))*100))"
                        [style.background-color]="getColor(roundValue(getETFCategoryMed(ETFcategory.indexOf(item))*100))">{{roundValue(getETFCategoryMed(ETFcategory.indexOf(item))*100)}}</span>
                      <ion-label style="font-size: 12px;
                      font-family: Open sans SemiBold;
                      color: #666666;">{{item}}</ion-label>
                      <ion-icon name="chevron-forward-outline"></ion-icon>
                    </ion-item>
                  </ion-list>
                </ion-card-content>
                <!-- ETF Catagory List End -->

                <!-- ETF Index List Start -->
                <ion-card-content *ngIf="SelTab=='ETFChild'" class="nav-tab-card-content">
                  <div class="backBtn">
                    <img src="../../assets/images/backward.svg" alt="Back" style="height: 8px; width: 8px;">
                    <ion-label class="backText backText-label" (click)="this.SelTab='ETF';">{{selCategory}}</ion-label>
                  </div>
                  <div class="ETFChild-Div" [ngClass]="{'companycard-extend': stockCollapse}">
                    <div>
                      <ion-list class="ETFChild-List">
                        <ion-item lines="none" style="--background: white; font-size: 14px; margin: 5px 0 5px 0;"
                          *ngFor="let item of compETFNameList" (click)="onETFNameClick(item.name)" [ngClass]="{'selectIndex': SelIndexName==item.name}">
                          <div style="display: flex;
                          width: 100%;
                          margin-left: 1px;
                          align-items: center;
                          padding: 5px 0;" >
                            <span class="index-circle"
                              [style.color]="ApplyTextColor(item.med)"
                              [style.background-color]="getColor(item.med)">{{item.med}}</span>
                            <ion-label class="ETFChild-Label"
                              [ngClass]="{'selectedIndexLabel': SelIndexName==item.name}">{{item.name}}</ion-label>
                          </div>
                        </ion-item>
                      </ion-list>
                    </div>
                  </div>
                </ion-card-content>
                <!-- ETF Index List End -->

              </ion-card>
              <!-- Index Dropdown List End -->

            </div>
          </div>
        </ion-slide>
        <!-- Index Slide End -->

      </ion-slides>
    </div>
    <!-- Slides/Carousel End-->

    <!-- Slides/Carousel Pager Start -->
    <div style="    position: fixed;
    width: 100%;
    bottom: 0;
    z-index: 999;">
      <div class="pager_div">
        <p id="slide0dot" class="dot0p" (click)="onSlide0Click()"></p>
        <p id="slide1dot" class="dot1P" (click)="onSlide1Click()"></p>
      </div>
    </div>
    <!-- Slides/Carousel Pager End -->
  </div>

  <div *ngIf="showFilter" class="Filter_Div">
   
      <ion-list id="sortbyList">
        <div>
        <ion-label>Sort by</ion-label>
        <ion-button class="sortCancelBtn" (click)="onSortClick()" fill="clear">
          Cancel
        </ion-button>
      </div>
      <hr>
        <ion-button class="filterTypeBtn" (click)="onfilterSelect('C')" expand="block" fill="clear" [ngClass]="{'activeSort': filterby == 'C_LTH' || filterby == 'C_HTL'}">
          <span id="filterLabel">Company Name</span>
          <span class="filterTypeInnerSpan">
            <span id="Filtertype" *ngIf="filterby == 'C_LTH'">(A - Z)</span>
            <span id="Filtertype" *ngIf="filterby == 'C_HTL'">(Z - A)</span>
            <ion-icon name="arrow-up-outline" *ngIf="filterby == 'C_LTH'"></ion-icon>
          <ion-icon name="arrow-down-outline" *ngIf="filterby == 'C_HTL'"></ion-icon>
          </span>
          
        </ion-button>
      
        <ion-button class="filterTypeBtn" (click)="onfilterSelect('HF')" expand="block" fill="clear" [ngClass]="{'activeSort': filterby == 'HF_LTH' || filterby == 'HF_HTL'}">
         <span id="filterLabel">H-Factor Score</span> 
         <span class="filterTypeInnerSpan">
            <span id="Filtertype" *ngIf="filterby == 'HF_LTH'">(Low - High)</span>
            <span id="Filtertype" *ngIf="filterby == 'HF_HTL'">(High - Low)</span>
            <ion-icon name="arrow-up-outline" *ngIf="filterby == 'HF_LTH'"></ion-icon>
          <ion-icon name="arrow-down-outline" *ngIf="filterby == 'HF_HTL'"></ion-icon>
          </span>
         
        </ion-button>
      
        <ion-button class="filterTypeBtn" (click)="onfilterSelect('T')" expand="block" fill="clear" [ngClass]="{'activeSort': filterby == 'T_LTH' || filterby == 'T_HTL'}">
          <span id="filterLabel">Ticker</span> 
          <span class="filterTypeInnerSpan">
            <span id="Filtertype" *ngIf="filterby == 'T_LTH'">(A - Z)</span>
            <span id="Filtertype" *ngIf="filterby == 'T_HTL'">(Z - A)</span>
            <ion-icon name="arrow-up-outline" *ngIf="filterby == 'T_LTH'"></ion-icon>
          <ion-icon name="arrow-down-outline" *ngIf="filterby == 'T_HTL'"></ion-icon>
          </span>
          
        </ion-button>
      
        <ion-button class="filterTypeBtn" (click)="onfilterSelect('P')" expand="block" fill="clear" [ngClass]="{'activeSort': filterby == 'P_LTH' || filterby == 'P_HTL'}">
         <span id="filterLabel">Price</span>
         <span class="filterTypeInnerSpan">
            <span id="Filtertype" *ngIf="filterby == 'P_LTH'">(Low - High)</span>
            <span id="Filtertype" *ngIf="filterby == 'P_HTL'">(High - Low)</span>
            <ion-icon name="arrow-up-outline" *ngIf="filterby == 'P_LTH'"></ion-icon>
         <ion-icon name="arrow-down-outline" *ngIf="filterby == 'P_HTL'"></ion-icon>
          </span>
         
        </ion-button>
      </ion-list>
    
  </div>

  <div *ngIf="showAlertSetup" style="    position: absolute;
  z-index: 999;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  background-color: rgba(113, 107, 107, 0.50)">
    <ion-card style="background: white;">
      <ion-card-content style="    padding: 0px;     padding-bottom: 15px;">
        <div style="background: #00b9ff; align-items: center; padding: 10px; display: flex; flex-direction: row; justify-content: space-between;">
          <ion-title style="font-size: 18px; padding: 0px; color: white; position: relative;">Alert Settings</ion-title>
          <ion-icon style="color: #ffffff; width: 19px;
          height: 19px;" name="close" (click)="showAlertSetup= false;"></ion-icon>
        </div>
        <div>
          <p style="text-align: center;
          padding-top: 15px;
    color: #394e8b;
    font-size: 16px;
    padding: 0 15px;
    font-weight: 500;">{{SelSearchObj.companyName}} ({{SelSearchObj.ticker}})</p>
        </div>
        <div>
          <ion-item lines="none" style="--background: #ffffff;">
            <ion-label>Period</ion-label>
            <ion-select interface="popover" (ionChange)="rangeChange($event)" [(ngModel)]="selPeriod" style="min-width:45% !important;">
              <ion-select-option value="daily">Daily</ion-select-option>
              <ion-select-option value="weekly">Weekly</ion-select-option>
              <ion-select-option value="monthly">Monthly</ion-select-option>
            </ion-select>
          </ion-item>
        </div>
        <div *ngIf="selPeriod == 'weekly'" style="display: flex;
        flex-direction: row;
        justify-content: center;">
          <span class="alertdayspan" (click)="ondayclick('sunday')" [ngClass]="{'dayActive': selDay == 'sunday'}">S</span>
          <span class="alertdayspan" (click)="ondayclick('monday')" [ngClass]="{'dayActive': selDay == 'monday'}">M</span>
          <span class="alertdayspan" (click)="ondayclick('tuesday')" [ngClass]="{'dayActive': selDay == 'tuesday'}">T</span>
          <span class="alertdayspan" (click)="ondayclick('wednesday')" [ngClass]="{'dayActive': selDay == 'wednesday'}">W</span>
          <span class="alertdayspan" (click)="ondayclick('thursday')" [ngClass]="{'dayActive': selDay == 'thursday'}">T</span>
          <span class="alertdayspan" (click)="ondayclick('friday')" [ngClass]="{'dayActive': selDay == 'friday'}">F</span>
          <span class="alertdayspan" (click)="ondayclick('satuday')" [ngClass]="{'dayActive': selDay == 'satuday'}">S</span>
        </div>
        <div *ngIf="selPeriod == 'monthly'" style="display: flex; flex-direction: row;     justify-content: space-between;
        
        align-items: center;">
          
          <ion-button (click)="openDaypicker()" (ionChange)="rangeChange($event)" expand="block" fill="clear" style="width: 100%;     --padding-start: 15px;
          --padding-end: 15px; --ripple-color:#666;">
            <div style="width: 100%; display: flex;
            flex-direction: row;
            justify-content: space-between;">
              <span style="    color: #000000;
          font-size: 16px;     text-transform: capitalize;
    font-weight: normal;">Date</span>
          <span style="color: #000000;">
           {{selDate}} <ion-icon name="chevron-down-circle-outline" style="height: 18px;
           width: 18px; margin-left: 10vh; color: #000000;
            opacity: 0.4;"></ion-icon>
            </span>
            </div>
          </ion-button>
        </div>
        <div>
          <ion-item lines="none" style="--background: #ffffff;" >
            <ion-checkbox (ionChange)="rangeChange($event)" [(ngModel)]="perChecked" style="--background:#ffffff; --background-checked: #00b9ff;
            --border-color-checked: #00b9ff;"></ion-checkbox>
            <ion-label style="padding-left: 10px; font-size: 14px;">If Score Percentage changed by (+/-)</ion-label>
          </ion-item>
        </div>
        <div *ngIf="perChecked">
          <ion-item style="--background:#ffffff; " lines="none">
            <ion-range [(ngModel)]="selPer" style="--ion-color-base: #00b9ff !important; padding-left: 0px;
            padding-right: 0px;"
              min="1" max="100"
              pin="true"
              snaps="true" step="1"
              ticks="true" value="1"
              color="primary" (ionChange)="rangeChange($event)">

                <ion-label slot="start">1%</ion-label>
                <ion-label slot="end">100%</ion-label>
            </ion-range>
          </ion-item>
        </div>
        <div style="margin: 15px 15%; ">
          <ion-button *ngIf="showSubmit" [disabled]="selPeriod == '' && !perChecked" style="--background: linear-gradient(45deg,#06aaf1,#2c529e)!important;" (click)="onAlertSubmit()" expand="block" shape="round">
            Submit
          </ion-button>
        </div>
        <div style="margin: 15px 15%; ">
          <ion-button *ngIf="showAlertRemove" style="--background: #999 !important; color: white;" (click)="onRemoveAlert()" expand="block" fill="clear" shape="round">
            Remove
          </ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
<!--Mobile body -->

<!-- Tablet body -->
<!-- <ion-content *ngIf="!mobile" style="--ion-background-color:linear-gradient(-90deg,#2E4C99, #233771);">
  <div style="    height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;">
    <app-ipadhometool></app-ipadhometool>
  </div>
</ion-content> -->
  <ion-tabs *ngIf="!mobile">
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="tab1" (click)="onhomeClick()">
        <ion-icon name="flash"></ion-icon>
        <ion-label>home</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="tab2">
        <ion-icon name="apps"></ion-icon>
        <ion-label>Tab Two</ion-label>
      </ion-tab-button>
      <ion-tab-button tab="tab3">
        <ion-icon name="send"></ion-icon>
        <ion-label>Tab Three</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs> 


<!-- Tablet body -->